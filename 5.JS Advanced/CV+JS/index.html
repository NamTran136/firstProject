<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./assets/cv.css">
    <link rel="stylesheet" href="./assets/modal.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
</head>

<style>
    

</style>

<body>

    <div class="app js-app">
        <div id="header" class="col-right col-7 col-s-12">
                <h1 class="h1">NATASHA FIELDS</h1>
                <h2>WEB DEVELOPER</h2>
                <i class="fa-solid fa-bars setting-icon js-open-modal"></i>
        </div>
        <div id="menu" class="col-left col-5 col-s-6 text-white">
            <div class="menu-header">
                
                <div class="space">
                    <div class="avatar">
                        <form action="">
                            <img src="./assets/img/avatar.jpg" alt="avatar" id="avatar" onclick="openOrHideInput()">
                            <div class="imageFile">
                            <label for="avatar">Change avatar</label><br>
                            <input type="file" name="avatar" id="imageFile" onchange="chooseFile(this)"
                            accept="image/gif, image/jpeg, image/png">
                            </div>
                        </form>

                    </div>
                </div>
            </div>
            
            <div class="menu-content">
              
              <div class="menu-item">
                  <h3>Contact</h3>
                  <ul class="contact-navbar">
                      <li>
                          <i class="fa-solid fa-phone"></i>
                          <span class="phone">+ 00123456789</span>
                      </li>
                      <li>
                          <i class="fa-solid fa-envelope"></i>
                          <span class="email">info@example.com</span>
                      </li>
                      <li>
                          <i class="fa-solid fa-location-dot"></i>
                          <span class="address">Address here, City, 12345</span>
                      </li>
                      <li class="item-website">
                          <i class="fa-solid fa-globe"></i>
                         Yourwebsite.com
                      </li>
                  </ul>
              </div>
              <div class="menu-item">
                  <h3>Social Account</h3>
                  <ul class="contact-navbar">
                      <li class="item-social">
                          <div class="i i-social">
                           <img src="./assets/img/Facebook-icon.jpg" alt="">
                          </div> 
                          fb/yourlinkhere
                       </li>
                       <li class="item-social">
                          <div class="i i-social">
                           <img src="./assets/img/instagram-icon.jpg" alt="">
                          </div> 
                          in/yourlinkhere
                       </li>
                       <li class="item-social">
                          <div class="i i-social">
                           <img src="./assets/img/twitter-icon.jpg" alt="">
                          </div> 
                          Twitter/yourlinkhere
                       </li>
                      <li class="item-social">
                         <div class="i i-social">
                          <img src="./assets/img/in-icon.png" alt="">
                         </div> 
                         in/yourlinkhere
                      </li>
                  </ul>
              </div>
              <div class="menu-item">
                  <h3>Skills</h3>
                  <div class="contact-navbar-2">
                      <ul class="contact-navbar name">
                          <li class="item-skill">
                              HTML
                           </li>
                           <li class="item-skill">
                              JAVA SCRIPT
                           </li>
                           <li class="item-skill">
                              PHP
                           </li>
                          <li class="item-skill">
                             CSS3
                          </li>
                          <li class="item-skill">
                              WORD PRESS
                           </li>
                      </ul>

                      <ul class="contact-navbar star">
                          <li class="star-list">
                              <i class="fa-solid fa-star"></i>
                              <i class="fa-solid fa-star"></i>
                              <i class="fa-solid fa-star"></i>
                              <i class="fa-solid fa-star"></i>
                              <i class="fa-solid fa-star"></i>
                              <i class="fa-solid fa-star blur"></i>
                           </li>
                           <li class="star-list">
                              <i class="fa-solid fa-star"></i>
                              <i class="fa-solid fa-star"></i>
                              <i class="fa-solid fa-star"></i>
                              <i class="fa-solid fa-star"></i>
                              <i class="fa-solid fa-star blur"></i>
                              <i class="fa-solid fa-star blur"></i>
                           </li>
                           <li class="star-list">
                              <i class="fa-solid fa-star"></i>
                              <i class="fa-solid fa-star"></i>
                              <i class="fa-solid fa-star"></i>
                              <i class="fa-solid fa-star blur"></i>
                              <i class="fa-solid fa-star blur"></i>
                              <i class="fa-solid fa-star blur"></i>
                           </li>
                           <li class="star-list">
                              <i class="fa-solid fa-star"></i>
                              <i class="fa-solid fa-star"></i>
                              <i class="fa-solid fa-star"></i>
                              <i class="fa-solid fa-star blur"></i>
                              <i class="fa-solid fa-star blur"></i>
                              <i class="fa-solid fa-star blur"></i>
                           </li>
                          <li class="star-list">
                              <i class="fa-solid fa-star"></i>
                              <i class="fa-solid fa-star"></i>
                              <i class="fa-solid fa-star"></i>
                              <i class="fa-solid fa-star"></i>
                              <i class="fa-solid fa-star blur"></i>
                              <i class="fa-solid fa-star blur"></i>
                          </li>
                      </ul>
                  </div>
              </div>
              <div class="menu-item">
                  <h3>Hobby</h3>
                  <div class="contact-navbar-2">
                      <ul class="contact-navbar hobby">
                          <li class="item-website">
                              <i class="fa-solid fa-book-open"></i>
                              Reading
                          </li>
                           <li class="item-website">
                              <i class="fa-solid fa-palette"></i>
                              Painting
                           </li>
                           <li class="item-website">
                              <i class="fa-solid fa-dice-six"></i>
                              Playing
                           </li>
                      </ul>

                      <ul class="contact-navbar hobby">
                          <li class="item-website">
                              <i class="fa-solid fa-person-biking"></i>
                              Cycleing
                           </li>
                           <li class="item-website">
                              <i class="fa-solid fa-car"></i>
                              Travelling
                           </li>
                           <li class="item-website">
                              <i class="fa-solid fa-tree"></i>
                              Gardening
                           </li>
                          
                      </ul>
                  </div>
              </div>
          </div>
          
          <div class="space"></div>

        </div>
        <div id="content" class="col-right col-7 col-s-6">
          <div class="container-list">
            <div class="container-item">
                <h3>Profile</h3>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Reiciendis odit eius pariatur corrupti veniam omnis, temporibus accusantium quasi voluptatibus dolore aliquid, natus vero hic fuga et, quod repudiandae est assumenda!</p>
            </div>
            <div class="container-item">
                <h3>Objective</h3>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Reiciendis odit eius pariatur corrupti veniam omnis, temporibus accusantium quasi voluptatibus dolore aliquid, natus vero hic fuga et, quod repudiandae est assumenda!</p>
            </div>
            <div class="container-item">
                <h3>Work Experience</h3>
                <div class="item-introduce">
                    <h4>Company Name / <span class="blur">2017-2020</span></h4>
                    <h4>[ Job Positions ]</h4>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsam amet harum aut fugit quasi minus! Consectetur, iusto qui! Lorem ipsum dolor sit amet consectetur adipisicing elit. Reiciendis odit eius pariatur corrupti veniam omnis, temporibus.</p>
                </div>
            </div>
            <div class="container-item">
                <h3>Education</h3>
                <div class="item-introduce">
                    <h4>University Name <span class="blur">2017-2020</span></h4>
                    <h4>[ Your Masters Degree ]</h4>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore deserunt autem culpa minima veniam eligendi? Commodi, totam? Voluptatibus, soluta voluptatem. Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
                </div>
                <div class="item-introduce mt-32">
                    <h4>University Name <span class="blur">2017-2020</span></h4>
                    <h4>[ Your Masters Degree ]</h4>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore deserunt autem culpa minima veniam eligendi? Commodi, totam? Voluptatibus, soluta voluptatem. Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
                </div>

              </div>
          </div>
        </div>
    </div>
    <div id="modal" class="js-modal">
        <form action="" method="POST" class="form js-modal-container" id="form">
            <i class="fa-solid fa-xmark modal-close js-modal-close"></i>
            <h1 class="heading"><span style="border-bottom: 4px solid #fab778; padding-bottom: 2px;">CV</span> Information</h1>      
            <div class="spacer"></div>
        
            <div class="row">
              <div class="form-group col col-left col-6 col-s-12">
                  <label for="fullname" class="form-label">Full Name</label>
                  <input id="fullname" name="fullname" type="text" placeholder="Enter your name" class="form-control" value="1234565">
                  <span class="form-message"></span>
                </div>
            
                <div class="form-group col col-left col-6 col-s-12">
                  <label for="username" class="form-label">Username</label>
                  <input id="username" name="username" type="text" placeholder="Enter your username" class="form-control" value="1234565">
                  <span class="form-message"></span>
                </div>
            </div>
        
            <div class="row">
  
                <div class="form-group col col-left col-6 col-s-12">
                  <label for="email" class="form-label">Email</label>
                  <input id="email" name="email" type="email" placeholder="Enter your email" class="form-control" value="1234565">
                  <span class="form-message"></span>
                </div>
  
                <div class="form-group col col-left col-6 col-s-12">
                  <label for="phoneNumber" class="form-label">Phone number</label>
                  <input id="phoneNumber" name="phoneNumber" type="tel" placeholder="Enter your number" class="form-control" value="1234565">
                  <span class="form-message"></span>
                </div>
            </div>
  
            <div class="row">
              <div class="form-group col col-left col-6 col-s-12">
                  <label for="address" class="form-label">Address</label>
                  <input id="address" name="address" type="text" placeholder="Enter your address" class="form-control" value="1234565">
                  <span class="form-message"></span>
                </div>
            
                <div class="form-group col col-left col-6 col-s-12">
                  <label for="position" class="form-label">Applied position</label>
                  <input id="position" name="position" type="text" placeholder="Enter your applied position" class="form-control" value="1234565">
                  <span class="form-message"></span>
                </div>
            </div>
  
  
            <div class="form-group">
                <label for="gender" class="form-label">Gender</label>
                <div style="display: flex;">
                  <div class="gender">
                  <input name="gender" type="radio" value="male" class="form-control"> &ensp; Male
                </div>
                <div class="gender">
                  <input name="gender" type="radio" value="female" class="form-control"> &ensp; Female
                </div>
                <div class="gender">
                  <input name="gender" type="radio" value="other" class="form-control"> &ensp; Prefer not to say
                </div>
              </div>
                <span class="form-message"></span>
              </div>
  
        
            <div class="row">
                <button class="form-submit col-left col col-12 col-s-12">Submit</button>            
            </div>
            <a href="javascript:void(0)" download="data.txt">
                        Download Information Form 
                    </a>
          </form>
    </div>


    <script>
        const openModal = document.querySelector('.js-open-modal');
        const modal = document.querySelector('.js-modal');
        const app = document.querySelector('.js-app');
        const modalClose = document.querySelector('.js-modal-close');

        function showForm() {
            // open modal
            modal.classList.add('open');
            

            // get data
            var myData = {
                nameContent: document.querySelector('#header h1').textContent,
                phoneContent:  document.querySelector('.contact-navbar li .phone').textContent,
                emailContent:  document.querySelector('.contact-navbar li .email').textContent,
                addressContent:  document.querySelector('.contact-navbar li .address').textContent
            }
            // add data
            document.querySelector('#modal input[name="fullname"]').value = myData.nameContent;
            document.querySelector('#modal input[name="username"]').value = myData.nameContent;
            document.querySelector('#modal input[name="email"]').value = myData.emailContent;
            document.querySelector('#modal input[name="phoneNumber"]').value = myData.phoneContent;
            document.querySelector('#modal input[name="address"]').value = myData.addressContent;
            document.querySelector('#modal input[name="position"]').value = myData.addressContent;
            document.querySelector('input[value="other"]').checked = true;
        }

        function hideForm() {
            modal.classList.remove('open');
            
        }
        openModal.addEventListener('click',showForm);
        modalClose.addEventListener('click',hideForm);
    </script>
    <script src="./assets/validator.js"></script>
    <script>
        let formData = null;
        validator({
            form: '#form',
            errorSelector: '.form-message',
            formGroupSelector: '.form-group',
            rules: [
                validator.isRequired('#fullname', 'Please enter your fullname'),                
                validator.isRequired('#email', 'Please enter your email'),
                validator.isEmail('#email'),
                validator.isRequired('#username', 'Please enter your username'),
                validator.isRequired('#phoneNumber', 'Please enter phone number'),
                validator.isPhone('#phoneNumber'),
                validator.isRequired('input[name="gender"]', 'Vui lòng chọn giới tính'),
                validator.isRequired('#position', 'Please enter applied position'),
                validator.isRequired('#address', 'Please enter your address'),
                validator.isRequired('input[name="gender"]')
            ],
            onSubmit: function(data) {
                // Call API
                console.log(data);

                // close modal
                modal.classList.remove('open');
                

                // update data
                document.querySelector('#header h1').innerText = data.fullname;
                document.querySelector('.contact-navbar li .phone').innerText = data.phoneNumber;
                document.querySelector('.contact-navbar li .email').innerText = data.email;
                document.querySelector('.contact-navbar li .address').innerText = data.address;

            }
        });
      </script>
      <script>
        const avatar = document.querySelector('#avatar');
        const imageInput = document.querySelector('.imageFile');
        function openOrHideInput() {

            if(imageInput.classList.contains("open")) {
                imageInput.classList.remove('open');
            }
            else {
                imageInput.classList.add('open');
            }
        };

        function chooseFile(fileInput) {
            if(fileInput.files && fileInput.files[0]) {
                var reader = new FileReader();

                reader.onload = function (e){
                    $('#avatar').attr('src', e.target.result);

                }
                reader.readAsDataURL(fileInput.files[0]);
                imageInput.classList.remove('open');
            }
        } 

        
      </script>

<script type="text/javascript">
            var formElement = document.querySelector('#form');
            var download = document.querySelector( "a[ download ]" );
            function makeText(rows) {
                return rows.map(r => r.join(',')).join("\n");
            }
            openModal.onclick = function (){
                var enableInputs = formElement.querySelectorAll('[name]:not([disabled])');
                    var formValues = Array.from(enableInputs).reduce(function(values, input) {
                        
                        switch(input.type) {
                            case 'radio':
                                values[input.name] = formElement.querySelector('input[name="' + input.name + '"]:checked').value;
                                break;
                            case 'checkbox':
                                if(!input.matches(':checked')) {
                                    values[input.name] = ''; 
                                    return values;
                                }
                                if(!Array.isArray(values[input.name])) {
                                    values[input.name] = []; 
                                }
                                values[input.name].push(input.value); 
                                break;
                            case 'file':
                                values[input.name] = input.files;
                                break;
                            default:
                                values[input.name] = input.value;
                        }
                        return values;

                    }, {});
                    console.log(JSON.stringify(formValues));

                    
                    var blob = new Blob(
                        [ JSON.stringify(formValues) ], // Blob parts.
                        {
                            type : "text/plain;charset=utf-8"
                        }
                    );
                    download.href = URL.createObjectURL( blob );
            }
                    

</script>
</body>
</html>